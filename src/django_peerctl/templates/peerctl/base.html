{% extends "common/app/base.html" %}
{% load static i18n %}
{% block "title" %}fullctl / peer{% endblock %}

{% block "js" %}
{{ block.super }}
<script src="{% static "common/20c/twentyc.core.min.js" %}" type="text/javascript"></script>
<script src="{% static "common/20c/twentyc.rest.js" %}" type="text/javascript"></script>
<script src="{% static "peerctl/peerctl.js" %}" type="text/javascript"></script>
{% if not request.GET.v2 %}
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
{% endif %}
<script>
{% if select_ix and not request.GET.v2 %}
$(fullctl.application).on("initialized", function(e, peerctl, id) {
  peerctl.preselect_ix = {{ select_ix.id }};
});
{% endif %}
</script>
{% endblock %}

{% block "css" %}
{{ block.super }}
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:100,200,300,400,500,600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Fira+Mono:100,200,300,400,500,600&display=swap" rel="stylesheet">

{% if not request.GET.v2 %}
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{% static "legacy/peerctl-2.css" %}" />
{% else %}
<link rel="stylesheet" href="{% static "peerctl/peerctl.css" %}" />
{% endif %}


{% endblock %}

{% block "header_middle" %}
<div class="app-pages-nav" data-component="pages">
  <nav class="nav justify-content-center">

    <a class="nav-link active"
      id="tab-peering-lists"
      data-toggle="tab"
      role="tab"
      aria-controls="peering-lists"
      aria-selected="true"
      href="#page-peering-lists">{% trans "Peering lists" %}</a>

    <a class="nav-link"
      data-toggle="tab"
      role="tab"
      aria-controls="templates"
      aria-selected="false"
      href="#page-templates">{% trans "Templates" %}</a>
  </nav>
</div>
<div id="data-urls" style="display:hidden">
  <div class="policy" data-url="{% url "peerctl_api:policy-list" asn=selected_asn %}"></div>
</div>
{% endblock %}

{% block "header_right" %}
{% with app_id="peerctl" %}
{{ block.super }}
{% endwith %}
{% endblock %}


{% block "app_content_toolbar" %}

<div class="tab-content" id="app-pages">
  <div class="tab-pane show active" id="page-peering-lists" role="tabpanel" aria-labelledby="tab-peering-lists">
    {% include "peerctl/tool-v2/peering-lists/port-form.html" %}
  </div>

  <div class="tab-pane" id="page-templates" role="tabpanel" aria-labelledby="tab-templates">
  </div>
</div>

{% endblock %}

{% block "app_content_menu" %}
<div class="menu-deco-border"></div>
{% endblock %}

{% block "app_content_main" %}
{% if request.GET.v2 %}
<div class="tab-content" id="app-pages">
  <div class="tab-pane show active" id="page-peering-lists" role="tabpanel" aria-labelledby="tab-peering-lists">
    {% include "peerctl/tool-v2/peering-lists/main.html" %}
  </div>

  <div class="tab-pane" id="page-templates" role="tabpanel" aria-labelledby="tab-templates">
    {% include "peerctl/tool-v2/peering-templates/main.html" %}
  </div>
</div>
{% else %}
{% include "peerctl/tool/index.html" %}
{% endif %}
{% endblock %}

{% block "templates" %}
{{ block.super }}

{% endblock %}
