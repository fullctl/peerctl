{% load i18n static %}
<form data-api-base="{% url "peerctl_api:net-detail" asn=selected_asn %}" data-api-method="PUT" data-template="form">
<div class="controls" data-api-submit="yes">
  <div class="row mb-3">

    <div class="col-4 offset-4 text-center">
      <img class="header-img" src="{% static "peerctl/logo-darkbg.svg" %}" style="height:25px">
    </div>
    <div class="col-4 text-center">
      <a href="{{ settings.peeringdb.url }}net/{{ net.ref.id }}">
        <img class="header-img" src="{% static "peerctl/pdb-logo-white.png" %}">
      </a>
    </div>

  </div>

  <div class="row mb-3">

    <!-- AS-SET -->

    <div class="col-4">
      <label class="form-label">{% trans "AS-SET" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <input type="text" class="form-control" name="as_set_override" data-blank-as-null="yes" placeholder="{{ net.ref.irr_as_set }}">
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="as_set_peeringdb" data-blank-as-null="yes" value="{{ net.ref.irr_as_set }}" disabled>
    </div>

  </div>

  <div class="row mb-3">

    <!-- MAX PREFIXES V4 -->

    <div class="col-4">
      <label class="form-label">{% trans "Max. prefix length v4" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <input type="text" class="form-control" name="prefix4_override" data-type="int" placeholder="{{ net.ref.info_prefixes4 }}">
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="prefix4_peeringdb" data-type="int" value="{{ net.ref.info_prefixes4 }}" disabled>
    </div>

  </div>

  <div class="row mb-3">

    <!-- MAX PREFIXES V6 -->

    <div class="col-4">
      <label class="form-label">{% trans "Max. prefix length v6" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <input type="text" class="form-control" name="prefix6_override" data-type="int" placeholder="{{ net.ref.info_prefixes4 }}">
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="prefix6_peeringdb" data-type="int" value="{{ net.ref.info_prefixes6 }}" disabled>
    </div>

  </div>

  <div class="row mb-3">

    <!-- NETWORK TYPE -->

    <div class="col-4">
      <label class="form-label">{% trans "Network Type" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <select
        data-blank-as-null="yes"
        data-element="select_net_type"
        class="form-control"
        data-api-base="{% url "peerctl_api:net-list" %}"
        data-load-type="drf-choices"
        data-null-option=";{{ net.ref.info_type }}"
        data-drf-name="network_type_override"
        name="network_type_override"
        >
        </select>
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="network_type_peeringdb" data-blank-as-null="yes" value="{{ net.ref.info_type }}" disabled>
      </select>
    </div>

  </div>

  <div class="row mb-3">

    <!-- NETWORK RATIO -->

    <div class="col-4">
      <label class="form-label">{% trans "Ratio" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <select
        data-blank-as-null="yes"
        data-element="select_ratio"
        class="form-control"
        data-api-base="{% url "peerctl_api:net-list" %}"
        data-load-type="drf-choices"
        data-null-option=";{{ net.ref.info_ratio }}"
        data-drf-name="ratio_override"
        name="ratio_override"
        >
        </select>
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="ratio_peeringdb" data-blank-as-null="yes" value="{{ net.ref.info_ratio }}" disabled>
      </select>
    </div>

  </div>


  <div class="row mb-3">

    <!-- NETWORK TRAFFIC -->

    <div class="col-4">
      <label class="form-label">{% trans "Traffic levels" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <select
        data-blank-as-null="yes"
        data-element="select_traffic"
        class="form-control"
        data-api-base="{% url "peerctl_api:net-list" %}"
        data-load-type="drf-choices"
        data-null-option=";{{ net.ref.info_traffic }}"
        data-drf-name="traffic_override"
        name="traffic_override"
        >
        </select>
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="traffic_peeringdb" data-blank-as-null="yes" value="{{ net.ref.info_traffic }}" disabled>
      </select>
    </div>

  </div>

  <div class="row mb-3">

    <!-- NETWORK SCOPE -->

    <div class="col-4">
      <label class="form-label">{% trans "Scope" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <select
        data-blank-as-null="yes"
        data-element="select_scope"
        class="form-control"
        data-api-base="{% url "peerctl_api:net-list" %}"
        data-load-type="drf-choices"
        data-null-option=";{{ net.ref.info_scope }}"
        data-drf-name="scope_override"
        name="scope_override"
        >
        </select>
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="scope_peeringdb" data-blank-as-null="yes" value="{{ net.ref.info_scope }}" disabled>
      </select>
    </div>

  </div>


  <div class="row mb-3">

    <!-- Multicast -->

    <div class="col-4">
      <label class="form-label">{% trans "Multicast" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <select
        data-element="select_multicast"
        data-type="bool"
        data-blank-as-null="yes"
        class="form-control"
        name="multicast_override"
        >
          <option value="">{% if net.ref.info_multicast %}Yes{% else %}No{% endif %}</option>
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="multicast_peeringdb" data-blank-as-null="yes" value="{% if net.ref.info_multicast %}Yes{% else %}No{% endif %}" disabled>
    </div>

  </div>

  <div class="row mb-3">

    <!-- Unicast -->

    <div class="col-4">
      <label class="form-label">{% trans "Unicast" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <select
        data-element="select_unicast"
        data-type="bool"
        data-blank-as-null="yes"
        class="form-control"
        name="unicast_override"
        >
          <option value="">{% if net.ref.info_unicast %}Yes{% else %}No{% endif %}</option>
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="unicast_peeringdb" data-blank-as-null="yes" value="{% if net.ref.info_unicast %}Yes{% else %}No{% endif %}" disabled>
    </div>

  </div>



  <div class="row mb-3">

    <!-- NEVER VIA ROUTE SERVERS -->

    <div class="col-4">
      <label class="form-label">{% trans "Never via route servers" %}</label>
    </div>

    <div class="col-4">
      <div class="input-group">
        <select
        data-element="select_never_via_route_servers"
        data-type="bool"
        data-blank-as-null="yes"
        class="form-control"
        name="never_via_route_servers_override"
        >
          <option value="">{% if net.ref.info_never_via_route_servers %}Yes{% else %}No{% endif %}</option>
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
        <button class="btn primary peeringdb-pull" style="display:none;"><span class="icon fullctl icon-logout"></span></button>
      </div>
    </div>

    <div class="col-4">
      <input type="text" class="form-control" name="never_via_route_servers_peeringdb" data-blank-as-null="yes" value="{% if net.ref.info_never_via_route_servers %}Yes{% else %}No{% endif %}" disabled>
    </div>

  </div>

  <div class="pt-3">
    <div class="row mb-3">
      <div class="col-4">
          <button class="primary btn" type="button" data-element="save_network">
            <div class="row align-items-center">
              <div class="col label pe-0 ok">
                {% trans "Save network" %}
              </div>
              <div class="col-auto">
                <span class="icon fullctl icon-edit"></span>
              </div>
            </div>
          </button>
      </div>
      <div class="col-4 right">

          <button class="primary btn peeringdb-pull peeringdb-reset" style="display:none;" type="button" data-element="reset_from_peeringdb">
            <div class="row align-items-center">
              <div class="col label pe-0 ok">
                Reset
              &nbsp;
              </div>
              <div class="col-auto">
                <span class="icon fullctl icon-logout"></span>
              </div>
            </div>
          </button>

      </div>
      <div class="col-4 right">
	        <button class="primary btn" data-element="export_network" data-target="{{ settings.peeringdb.url }}verify-update/net/{{ net.ref.id }}">
            <div class="row align-items-center">
              <div class="col label pe-0 ok">
                {% trans "Update PeeringDB" %}
              </div>
              <div class="col-auto">
                <span class="icon fullctl icon-logout"></span>
              </div>
            </div>
          </button>
      </div>
    </div>
  </div>
</div>
</form>
